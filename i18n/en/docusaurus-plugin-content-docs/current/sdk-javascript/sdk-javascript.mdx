# SDK Javascript

## $message
  es: "Integración"
  en: "Integration"


<aside class="notice">$message
  es: "Debes incluir **aplazame.js** en las páginas del botón y del checkout."
  en: "You must include **aplazame.js** on the button and checkout pages."
</aside>

$include aplazame-js.md

## $message
   es: "Comprobar productos de financiación disponibles"
   en: "Check available financing products"


 > $message
   es: "Para mostrar el botón de pago con Aplazame en función de los productos configurados en tu cuenta"
   en: "To display the Aplazame payment button based on the products configured in your account"


 <tab>HTML</tab>
 ``` html
 <button type="button"
   data-aplazame-button
   data-amount="12050"
   data-currency="EUR"></button>

 <div data-aplazame-payment-info="">
   $message
     es: "Información acerca del pago con Aplazame que aparecerá y se ocultará con el botón"
     en: "Information about payment with Aplazame that will appear and be hidden with the button"

 </div>
 ```
 <tab>aplazame.js</tab>
 ```js
 (window.aplazame = window.aplazame || []).push(function (aplazame)
   aplazame.button(
     selector: '#some-button-or-wrapper-id', // $message es: "acepta cualquier selector CSS válido", en: "accepts any valid CSS selector"
     amount: 12050,
     currency: 'EUR'
   )
 )
 ```
 <tab>HTTP</tab>
 ``` http
 Request:

 GET /checkout/button?amount=12050&currency=EUR
 Accept: application/vnd.aplazame.v1+json
 Authorization: Bearer $api_tokenpublic
 Host: api.aplazame.com

 Response (available for this credit):
 HTTP/1.1 201 OK

 Response (not available for this credit):
 HTTP/1.1 403 Forbidden
 ```
 $include table-code-header.md
 selector | $typecss | no | $message
   es: "Selector CSS para mostrar/ocultar el método de pago Aplazame."
   en: "CSS selector to display/hide Aplazame’s payment method."

 amount | $typedecimal | yes | $message
   es: "Cantidad a financiar."
   en: "Quantity to be financed."

 currency | $typecurrency | yes | $message
   es: "Código de la moneda del pedido."
   en: "The currency code of the order."


## $message
   es: "Comprobar disponibilidad Pago a plazos"
   en: "Check Instalments availability "


 > $message
   es: "Para mostrar el botón de pago con Aplazame en función de los [límites configurados en tu cuenta](https://ayuda.aplazame.com/hc/es-es/articles/360014973600--C%C3%B3mo-configurar-el-widget-de-Aplazame-en-tu-tienda-)"
   en: "To display the payment button with Aplazame based on the [limits set in your account](https://ayuda.aplazame.com/hc/es-es/articles/360014973600--C%C3%B3mo-configurar-el-widget-de-Aplazame-en-tu-tienda-)"


 <tab>HTML</tab>
 ``` html
 <button type="button"
   data-aplazame-button
   data-amount="12050"
   data-currency="EUR"></button>

 <div data-aplazame-payment-info="">
   $message
     es: "Información acerca del pago con Aplazame que aparecerá y se ocultará con el botón"
     en: "Information about payment with Aplazame that will appear and be hidden with the button"

 </div>
 ```
 <tab>aplazame.js</tab>
 ```js
 (window.aplazame = window.aplazame || []).push(function (aplazame)
   aplazame.button(
     selector: '#some-button-or-wrapper-id', // $message es: "acepta cualquier selector CSS válido", en: "accepts any valid CSS selector"
     amount: 12050,
     currency: 'EUR',
     product:
      type: 'instalments'

   )
 )
 ```
 <tab>HTTP</tab>
 ``` http
 Request:

 GET /checkout/button?amount=12050&currency=EUR&product[type]=instalments
 Accept: application/vnd.aplazame.v1+json
 Authorization: Bearer $api_tokenpublic
 Host: api.aplazame.com

 Response (available for this credit):
 HTTP/1.1 201 OK

 Response (not available for this credit):
 HTTP/1.1 403 Forbidden
 ```
 $include table-code-header.md
 selector | $typecss | no | $message
   es: "Selector CSS para mostrar/ocultar el método de pago Aplazame."
   en: "CSS selector to display/hide Aplazame’s payment method."

 amount | $typedecimal | yes | $message
   es: "Cantidad a financiar."
   en: "Quantity to be financed."

 currency | $typecurrency | yes | $message
   es: "Código de la moneda del pedido."
   en: "The currency code of the order."


 ## $message
   es: "Comprobar disponibilidad Pago en 15 días"
   en: "Check availability of Pay in 15 days"


 > $message
   es: "Para mostrar el botón de pago con Aplazame en función de los [límites configurados en tu cuenta](https://ayuda.aplazame.com/hc/es-es/articles/360014973600--C%C3%B3mo-configurar-el-widget-de-Aplazame-en-tu-tienda-)"
   en: "To display the payment button with Aplazame based on the [limits set in your account](https://ayuda.aplazame.com/hc/es-es/articles/360014973600--C%C3%B3mo-configurar-el-widget-de-Aplazame-en-tu-tienda-)"


 <tab>HTML</tab>
 ``` html
<button type="button"
  data-aplazame-button
  data-amount="12050"
  data-currency="EUR"
  data-product-type="pay_later"></button>

 <div data-aplazame-payment-info="">
   $message
     es: "Información acerca del pago con Aplazame que aparecerá y se ocultará con el botón"
     en: "Information about payment with Aplazame that will appear and be hidden with the button"

 </div>
 ```
 <tab>aplazame.js</tab>
 ```js
(window.aplazame = window.aplazame || []).push(function (aplazame)
  aplazame.button(
    selector: '#some-button-or-wrapper-id', // $message es: "acepta cualquier selector CSS válido", en: "accepts any valid CSS selector"
    amount: 12050,
    currency: 'EUR'
    product:
        type: 'pay_later'

  )
)
 ```
 <tab>HTTP</tab>
 ``` http
 Request:

 GET /checkout/button?amount=12050&currency=EUR&product[type]=pay_later
 Accept: application/vnd.aplazame.v1+json
 Authorization: Bearer $api_tokenpublic
 Host: api.aplazame.com

 Response (available for this credit):
 HTTP/1.1 201 OK

 Response (not available for this credit):
 HTTP/1.1 403 Forbidden
 ```
 $include table-code-header.md
 selector | $typecss | no | $message
   es: "Selector CSS para mostrar/ocultar el método de pago Aplazame."
   en: "CSS selector to display/hide Aplazame’s payment method."

 amount | $typedecimal | yes | $message
   es: "Cantidad a pagar."
   en: "Quantity to be financed."

 currency | $typecurrency | yes | $message
   es: "Código de la moneda del pedido."
   en: "The currency code of the order."




 ## $message
   es: "Comprobar disponibilidad Pago en 4"
   en: "Check availability of Pay in 4"


 > $message
   es: "Para mostrar el botón de pago con Aplazame en función de los [límites configurados en tu cuenta](https://ayuda.aplazame.com/hc/es-es/articles/360014973600--C%C3%B3mo-configurar-el-widget-de-Aplazame-en-tu-tienda-)"
   en: "To display the payment button with Aplazame based on the [limits set in your account](https://ayuda.aplazame.com/hc/es-es/articles/360014973600--C%C3%B3mo-configurar-el-widget-de-Aplazame-en-tu-tienda-)"


 <tab>HTML</tab>
 ``` html
<button type="button"
  data-aplazame-button
  data-amount="12050"
  data-currency="EUR"
  data-product-type="pay_in_4"></button>

 <div data-aplazame-payment-info="">
   $message
     es: "Información acerca del pago con Aplazame que aparecerá y se ocultará con el botón"
     en: "Information about payment with Aplazame that will appear and be hidden with the button"

 </div>
 ```
 <tab>aplazame.js</tab>
 ```js
(window.aplazame = window.aplazame || []).push(function (aplazame)
  aplazame.button(
    selector: '#some-button-or-wrapper-id', // $message es: "acepta cualquier selector CSS válido", en: "accepts any valid CSS selector"
    amount: 12050,
    currency: 'EUR'
    product:
        type: 'pay_in_4'

  )
)
 ```
 <tab>HTTP</tab>
 ``` http
 Request:

 GET /checkout/button?amount=12050&currency=EUR&product[type]=pay_in_4
 Accept: application/vnd.aplazame.v1+json
 Authorization: Bearer $api_tokenpublic
 Host: api.aplazame.com

 Response (available for this credit):
 HTTP/1.1 201 OK

 Response (not available for this credit):
 HTTP/1.1 403 Forbidden
 ```
 $include table-code-header.md
 selector | $typecss | no | $message
   es: "Selector CSS para mostrar/ocultar el método de pago Aplazame."
   en: "CSS selector to display/hide Aplazame’s payment method."

 amount | $typedecimal | yes | $message
   es: "Cantidad a pagar."
   en: "Quantity to be financed."

 currency | $typecurrency | yes | $message
   es: "Código de la moneda del pedido."
   en: "The currency code of the order."



## $message
  es: "Inicio del checkout"
  en: "Initiating the checkout"


> $message
  es: "[Aquí](#integracion) puedes consultar como integrar el SDK"
  en: "[Here](#integration) you can see how to integrate the SDK"


``` html
<script>
(window.aplazame = window.aplazame || []).push(function (aplazame)
  // $message
    es: "Esta función se ejecuta cuando aplazame.js esté listo"
    en: "This function is executed when aplazame.js is ready"


  aplazame.checkout(checkout_id,
    // callbacks ...
  )
)
</script>
```



## $message
  es: "Mostrar resultado"
  en: "Show result"


``` js
(window.aplazame = window.aplazame || []).push(function (aplazame)
  // $message
    es: "Esta función se ejecuta cuando aplazame.js esté listo"
    en: "This function is executed when aplazame.js is ready"


  aplazame.checkout(checkout_id,
    onStatusChange: function (result_status)
      console.log('$message
  es: "IMPORTANTE: EL CHECKOUT TODAVÍA SIGUE ABIERTO"
  en: "IMPORTANT: THE CHECKOUT IS STILL OPEN"
')

      switch(result_status)
        case 'success':
          console.log('$message
  es: "el checkout ha sido completado correctamente"
  en: "the checkout has been completed successfully"
')
          break
        case 'pending':
          console.log('$message
  es: "el checkout ha terminado pero está pendiente de ser validado"
  en: "the checkout has been completed but is pending validation"
')
          break
        case 'ko':
          console.log('$message
  es: "el proceso de pago ha sido rechazado por parte de Aplazame"
  en: "the payment process has been rejected by Aplazame"
')
          break

    ,
    onClose: function (result_status)
      switch(result_status)
        case 'success':
          console.log('$message
  es: "el checkout ha sido completado correctamente"
  en: "the checkout has been completed successfully"
')
          break
        case 'pending':
          console.log('$message
  es: "el checkout ha terminado pero está pendiente de ser validado"
  en: "the checkout has been completed but is pending validation"
')
          break
        case 'error':
          console.log('$message
  es: "ha ocurrido un error al cargar el checkout"
  en: "an error occurred while loading the checkout"
')
          break
        case 'dismiss':
          console.log('$message
  es: "el usuario ha cerrado el checkout sin haberlo completado"
  en: "the user closed the checkout without completing it"
')
          break
        case 'ko':
          console.log('$message
  es: "el proceso de pago ha sido rechazado por parte de Aplazame"
  en: "the payment process has been rejected by Aplazame"
')
          break

    ,
  )
)
```
$include table-code-header.md
onStatusChange | function | no | $message
  es: "Función a la que se llamará cuando el Checkout cambie de estado."
  en: "Function to be called when the Checkout changes its status."
<br/><br/><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">onStatusChange</span> <span class="token punctuation">(</span>status<span class="token punctuation">)</span> <span class="token punctuation"></span> <span class="token comment" spellcheck="true">/&#42;&#42;/</span> <span class="token punctuation"></span></code><br/><br/>$message
  es: "**Posibles estados**: success, pending, ko<br/><br/>**( ⚠ Al enviar esta señal, el checkout seguirá abierto hasta que se llame a algún callback abajo mencionado )**"
  en: "**Possible statuses**: success, pending, ko<br/><br/>**( ⚠ When sending this signal, the checkout will remain open until a callback is made, as mentioned below)**"

onClose | function | no | $message
  es: "Función a la que se llamará cuando el Checkout se cierre."
  en: "Function to be called when the Checkout closes."
<br/><br/><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">onClose</span> <span class="token punctuation">(</span>status<span class="token punctuation">)</span> <span class="token punctuation"></span> <span class="token comment" spellcheck="true">/&#42;&#42;/</span> <span class="token punctuation"></span></code><br/><br/>$message
  es: "**Posibles estados**: success, pending, ko, dismiss"
  en: "**Possible statuses**: success, pending, ko, dismiss"

onSuccess | function | no | $message
  es: "Función a la que se llamará cuando se haya completado el pago. Al definir esta función el valor de `success_url` es ignorado"
  en: "Function to be called when the payment is completed. When defining this function the `success_url` value is ignored"

onPending | function | no | $message
  es: "Función a la que se llamará cuando el pago quede pendiente de confirmación. Al definir esta función el valor de `pending_url` es ignorado"
  en: "Function to be called when the payment is pending confirmation. When defining this function the `pending_url` value is ignored"

onKO | function | no | $message
  es: "Función a la que se llamará cuando se haya denegado el pago. Al definir esta función el valor de `ko_url` es ignorado"
  en: "Function to be called when the payment is denied. When defining this function the `ko_url` value is ignored"

onError | function | no | $message
  es: "Función a la que se llamará cuando haya habido un error. Al definir esta función el valor de `error_url` es ignorado"
  en: "Function to be called when an error occurs. When defining this function the `error_url` value is ignored"

onDismiss | function | no | $message
  es: "Función a la que se llamará cuando el usuario escoge volver a la tienda. Al definir esta función el valor de `dismiss_url` es ignorado"
  en: "Function to be called when the user chooses to return to the store. When defining this function the `dismiss_url` value is ignored"

