---
title: Widget integration
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Translate from '@docusaurus/Translate';
import CodeBlock from '@theme/CodeBlock';

# widget integration
The Aplazame widget allows you to show a simulation of financing installments together with the price of your products. You can choose between a [basic integration](installment-payment#integración-basic) that you control from your Aplazame control panel and an [advanced integration](installment-payment#integración-advanza) if you want maximum flexibility.

## Loading aplazame.js

:::info
  You must include <strong>aplazame.js</strong> in the pages where the widget should appear. See all the <a href="../sdk-javascript/#integration">integration options</a>.
:::

<Tabs>
  <TabItem value="aplazame.js" label="aplazame.js">

```html
  <script
    src="https://cdn.aplazame.com/aplazame.js"
    data-aplazame="api_public_key"
    data-sandbox="false"
    async defer></script>
```
  </TabItem>
  <TabItem value="require" label="require.js" default>

  ```jsx
    requirejs.config({
      paths: {
        aplazame: 'https://cdn.aplazame.com/aplazame.js'
      }
    });

    require(['defer me'], function (defer me) {
      aplazame.init({
        // replace with the store's public key
        public_key: "api_public_key",
        sandbox:false
      });
    });
  ```
  </TabItem>
</Tabs>


:::caution
For production the sandbox value must be `false`
:::

|<Translate id="table.parameter">Parameter</Translate> | <Translate id="table.type">Type</Translate> | <Translate id="table.required">Required</Translate> | <Translate id="table.description">Description</Translate>|
|---------|---------|---------|---------|
|public-key | string | yes | [your public key](https://vendors.aplazame.com)
|sandbox | boolean | yes | Indicates whether the requests will use test mode (true) or production mode (false).


## Customize the legal text

There is the option to customize the legal text displayed under the odds simulator. This will allow the financing values ​​(amount of the purchase, amount of the entry, amount of the installments, opening commission, APR, etc.) to be dynamic and show the text no This option allows you to customize the destination page of the button ' You want to know more?'
`data-option-url-more-info` actual amounts for the purchase the customer is making. To do this, just enter the following variables in braces within the value of the <code>data-option-legal-text</code> attribute.

|<Translate id="table.var">Variable</Translate> | <Translate id="table.desc">Description</Translate> |
--------- | ----
|order_amount | Basket amount
|total_amount | Total amount due
|principal_amount | Amount to finance
|installations_amount | Fee amount
|num_installations | Number of installments
|downpayment_amount | Entry
|tax | Opening commission
|tae | APR
|tin | TIN

:::note
  An example of legal text with variables would be the text that comes by default:
:::

  <code style={{ whiteSpace: 'normal' }}>Example of financing with APPLY ME for a basket of &#123; order_amount &#125; to &#123; num_instalments &#125; months and that begins to pay 20 days after the request. An entry of &#123; downpayment_amount &#125; that the user must pay through his card at the time he performs the operation. The amount to be financed is the difference between the value of the basket and the entry: &#123; principal_amount &#125;. &#123; num_instalments &#125; monthly installments of &#123; installations_amount &#125;. Opening Commission: &#123; tax &#125;. TIN: &#123; tin &#125; APR: &#123; tae &#125;. Total amount due: &#123; total_amount &#125;. Subject to approval by APLAZAME, S.L.</code>

## Custom CSS

:::type
  To further customize the widget, there is the <code>data-option-custom-styles</code> option.

  See the [Widget CSS Customization documentation](./custom-styles/) to learn more.
:::


## variable price

:::caution
  The variable price is only configurable in the 'Payment in installments' product widget.

  In the case where you prefer to use a dynamic value of a page element instead of a preset value, this can be defined using a css selector indicated on the `data-price` property instead of `data-amount`
:::

```html
<div data-aplazame-widget-instalments
     data-currency="EUR"
     data-country="EN"
     data-price="form#article .regular-price .price"
     data-qty="form#article input[name='qty']"></div>
```

|<Translate id="table.parameter">Parameter</Translate> | <Translate id="table.type">Type</Translate> | <Translate id="table.required">Required</Translate> | <Translate id="table.description">Description</Translate>|
|---------|---------|---------|---------|
|data-currency | [ISO 4217](https://es.wikipedia.org/wiki/ISO_4217) | Yes | currency in which
